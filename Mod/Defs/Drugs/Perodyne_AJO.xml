<?xml version="1.0" encoding="utf-8" ?>
<Perodyne>

    <ThingDef ParentName="ResourceBase">
        <defName>AJO_Perodyne</defName>
        <label>Perodyne</label>
        <description>Euphoria-inducing painkillers.\n
Side Effects:
  Blurred vision
  Dizziness
  Dry mouth
  Impaired speech
        </description>
        <graphicData>
            <texPath>Cupro/Item/Usable/Perodyne</texPath>
            <graphicClass>Graphic_Single</graphicClass>
        </graphicData>
        <socialPropernessMatters>true</socialPropernessMatters>
        <stackLimit>10</stackLimit>
        <statBases>
            <DeteriorationRate>0</DeteriorationRate>
            <MaxHitPoints>100</MaxHitPoints>
            <MarketValue>10</MarketValue>
        </statBases>
        <thingCategories>
            <li>Medicine</li>
        </thingCategories>
        <techLevel>Industrial</techLevel>
        <ingestible>
            <preferability>NeverForNutrition</preferability>
            <foodType>Processed</foodType>
            <nutrition>0.01</nutrition>
            <joy>0.1</joy>
            <joyKind>Chemical</joyKind>
            <maxNumToIngestAtOnce>1</maxNumToIngestAtOnce>
            <ingestSound>Ingest_Pill</ingestSound>
            <ingestCommandString>Take {0}</ingestCommandString>
            <ingestReportString>Taking {0}.</ingestReportString>
            <hediffGivers>
                <li>
                    <hediffDef>PerodyneHigh</hediffDef>
                    <severity>0.18</severity>
                    <chemical>Perodyne</chemical>
                </li>
                <li>
                    <hediffDef>PerodyneTolerance</hediffDef>
                    <severity>0.02</severity>
                </li>
            </hediffGivers>
        </ingestible>
        <tickerType>Rare</tickerType>
        <comps>
            <li Class="CompProperties_Rottable">
                <daysToRotStart>300</daysToRotStart>
            </li>
            <li Class="CompProperties_Drug">
                <chemical>Perodyne</chemical>
                <addictiveness>0.015</addictiveness>
                <addictionHediffSeverityOffset>0.06</addictionHediffSeverityOffset>
                <needLevelOffset>1</needLevelOffset>
            </li>
        </comps>
        <tradeTags>
            <li>Exotic</li>
            <li>AJO_JoyItem</li>
        </tradeTags>
    </ThingDef>



    <HediffDef>
        <defName>PerodyneHigh</defName>
        <hediffClass>HediffWithComps</hediffClass>
        <label>perodyne</label>
        <defaultLabelColor>(1,0,0.5)</defaultLabelColor>
        <scenarioCanAdd>true</scenarioCanAdd>
        <maxSeverity>1.0</maxSeverity>
        <comps>
            <li>
                <compClass>HediffComp_SeverityPerDay</compClass>
                <severityPerDay>-0.8</severityPerDay>
            </li>
        </comps>
        <stages>
            <li>
                <label>initial-hidden</label>
                <everVisible>false</everVisible>
            </li>
            <li>
                <minSeverity>0.01</minSeverity>
                <label>comfortable</label>
                <painFactor>0.8</painFactor>
                <capMods>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>0</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>0</offset>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>0</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>0</offset>
                    </li>
                    <li>
                        <capacity>Eating</capacity>
                        <offset>0</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.2</minSeverity>
                <label>buzzed</label>
                <painFactor>0.5</painFactor>
                <socialFightChanceFactor>1.5</socialFightChanceFactor>
                <capMods>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>-0.05</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>-0.05</offset>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>-0.05</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>-0.05</offset>
                    </li>
                    <li>
                        <capacity>Eating</capacity>
                        <offset>-0.05</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.4</minSeverity>
                <label>numb</label>
                <painFactor>0.15</painFactor>
                <vomitMtbDays>3.5</vomitMtbDays>
                <socialFightChanceFactor>2.5</socialFightChanceFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.25</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>-0.1</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>-0.1</offset>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>-0.1</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>-0.1</offset>
                    </li>
                    <li>
                        <capacity>Eating</capacity>
                        <offset>-0.1</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.6</minSeverity>
                <label>floating by</label>
                <painFactor>0.05</painFactor>
                <vomitMtbDays>2.5</vomitMtbDays>
                <socialFightChanceFactor>4.0</socialFightChanceFactor>
                <tale>Drunk</tale>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <offset>-0.50</offset>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>-0.25</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>-0.25</offset>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>-0.25</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>-0.25</offset>
                    </li>
                    <li>
                        <capacity>Eating</capacity>
                        <offset>-0.25</offset>
                    </li>
                </capMods>
            </li>
            <li>
                <minSeverity>0.8</minSeverity>
                <label>wasted</label>
                <vomitMtbDays>0.5</vomitMtbDays>
                <painFactor>0.01</painFactor>
                <socialFightChanceFactor>5.0</socialFightChanceFactor>
                <capMods>
                    <li>
                        <capacity>Consciousness</capacity>
                        <setMax>0.3</setMax>
                    </li>
                    <li>
                        <capacity>Sight</capacity>
                        <offset>-0.5</offset>
                    </li>
                    <li>
                        <capacity>Moving</capacity>
                        <offset>-0.5</offset>
                    </li>
                    <li>
                        <capacity>Manipulation</capacity>
                        <offset>-0.5</offset>
                    </li>
                    <li>
                        <capacity>Talking</capacity>
                        <offset>-0.5</offset>
                    </li>
                    <li>
                        <capacity>Eating</capacity>
                        <offset>-0.5</offset>
                    </li>
                </capMods>
            </li>
        </stages>
    </HediffDef>



    <ThoughtDef>
        <defName>PerodyneHigh</defName>
        <workerClass>ThoughtWorker_Hediff</workerClass>
        <hediff>PerodyneHigh</hediff>
        <stages>
            <li>
                <label>initial-hidden</label>
                <description>Should not appear.</description>
                <baseMoodEffect>0</baseMoodEffect>
                <visible>false</visible>
            </li>
            <li>
                <label>comfortable</label>
                <description>I feel a bit more relaxed now.</description>
                <baseMoodEffect>6</baseMoodEffect>
            </li>
            <li>
                <label>buzzed</label>
                <description>Everything feels better.</description>
                <baseMoodEffect>12</baseMoodEffect>
            </li>      
            <li>
                <label>numb</label>
                <description>It's hard not to feel good, everything's tingly!</description>
                <baseMoodEffect>20</baseMoodEffect>
            </li>   
            <li>
                <label>floating by</label>
                <description>I feel like I'm underwater. Nothing can bother me down here.</description>
                <baseMoodEffect>30</baseMoodEffect>
            </li>   
            <li>
                <label>wasted</label>
                <description>Hehhh...</description>
                <baseMoodEffect>40</baseMoodEffect>
            </li>   
        </stages>
    </ThoughtDef>

    <!-- Perodyne addiction -->

    <ChemicalDef>
        <defName>Perodyne</defName>
        <label>perodyne</label>
        <addictionHediff>PerodyneAddiction</addictionHediff>
    </ChemicalDef>

    <NeedDef ParentName="DrugAddictionNeedBase">
        <defName>Chemical_Perodyne</defName>
        <needClass>Need_Chemical</needClass>
        <label>perodyne</label>
        <description>Because of a developed perodyne dependence, this person needs to regularly consume the drug to avoid withdrawal symptoms.</description>
        <listPriority>12</listPriority>
    </NeedDef>

    <HediffDef ParentName="DrugToleranceBase">
        <defName>PerodyneTolerance</defName>
        <label>perodyne tolerance</label>
        <comps>
            <li>
                <compClass>HediffComp_SeverityPerDay</compClass>
                <severityPerDay>-0.06</severityPerDay>
            </li>
            <li>
                <compClass>HediffComp_DrugEffectFactor</compClass>
                <chemical>Perodyne</chemical>
            </li>
        </comps>
    </HediffDef>

    <HediffDef ParentName="AddictionBase">
        <defName>PerodyneAddiction</defName>
        <hediffClass>Hediff_Addiction</hediffClass>
        <label>perodyne dependence</label>
        <causesNeed>Chemical_Perodyne</causesNeed>
        <comps>
            <li>
                <compClass>HediffComp_SeverityPerDay</compClass>
                <severityPerDay>-0.05</severityPerDay>
            </li>
        </comps>
        <stages>
            <li>
            </li>
            <li>
                <label>withdrawal</label>
                <capMods>
                    <li>
                        <capacity>Eating</capacity>
                        <setMax>0.8</setMax>
                    </li>
                </capMods>
                <mentalStateGivers>
                    <li>
                        <mentalState>WanderSad</mentalState>
                        <mtbDays>10</mtbDays>
                    </li>
                </mentalStateGivers>
            </li>
        </stages>
    </HediffDef>

    <ThoughtDef>
        <defName>PerodyneWithdrawal</defName>
        <workerClass>ThoughtWorker_Hediff</workerClass>
        <hediff>PerodyneAddiction</hediff>
        <stages>
            <li>
                <visible>false</visible>
            </li>
            <li>
                <label>perodyne withdrawal</label>
                <description>I really wish I could numb myself.</description>
                <baseMoodEffect>-15</baseMoodEffect>
            </li>
        </stages>
    </ThoughtDef>

</Perodyne>






